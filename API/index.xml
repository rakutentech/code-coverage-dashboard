<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>3. API on Code Coverage Dashboard</title><link>https://rakutentech.github.io/code-coverage-dashboard/API/</link><description>Recent content in 3. API on Code Coverage Dashboard</description><generator>Hugo -- gohugo.io</generator><atom:link href="https://rakutentech.github.io/code-coverage-dashboard/API/index.xml" rel="self" type="application/rss+xml"/><item><title>GET /coverages-api</title><link>https://rakutentech.github.io/code-coverage-dashboard/API/get_coverages_api/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://rakutentech.github.io/code-coverage-dashboard/API/get_coverages_api/</guid><description>Paginated list of coverages for all orgs and repos. Use this API for the dashboard to show all coverages in your organization.
curl localhost:3006/coverages-api?p=1 Request
query:&amp;quot;org_name&amp;quot; hint:&amp;quot;To filter by org name&amp;quot;` query:&amp;quot;repo_name&amp;quot; hint:&amp;quot;To filter by repository name&amp;quot;` query:&amp;quot;full&amp;quot; hint:&amp;quot;To include all history for trends&amp;quot;` query:&amp;quot;p&amp;quot; validate:&amp;quot;gte=0&amp;quot; message:&amp;quot;p greater than 0&amp;quot; hint:&amp;quot;Page number for pagination&amp;quot;` Response will be a paginated result of coverages stored inside
{ &amp;#34;has_next&amp;#34;: false, &amp;#34;data&amp;#34;: { &amp;#34;rakutentech/laravel-request-docs&amp;#34;: [ { &amp;#34;id&amp;#34;: 1, &amp;#34;org_name&amp;#34;: &amp;#34;rakutentech&amp;#34;, &amp;#34;repo_name&amp;#34;: &amp;#34;laravel-request-docs&amp;#34;, &amp;#34;branch_name&amp;#34;: &amp;#34;develop&amp;#34;, &amp;#34;commit_hash&amp;#34;: &amp;#34;a124.</description></item><item><title>GET /coverages-api/badge</title><link>https://rakutentech.github.io/code-coverage-dashboard/API/get_coverages_badge_api/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://rakutentech.github.io/code-coverage-dashboard/API/get_coverages_badge_api/</guid><description>Get the Badge
query:&amp;quot;org_name&amp;quot; json:&amp;quot;org_name&amp;quot; validate:&amp;quot;required&amp;quot; query:&amp;quot;repo_name&amp;quot; json:&amp;quot;repo_name&amp;quot; validate:&amp;quot;required&amp;quot; query:&amp;quot;branch_name&amp;quot; json:&amp;quot;branch_name&amp;quot; validate:&amp;quot;required&amp;quot; query:&amp;quot;language&amp;quot; json:&amp;quot;language&amp;quot; validate:&amp;quot;required,oneof=go php js&amp;quot; query:&amp;quot;subtitle&amp;quot; json:&amp;quot;subtitle&amp;quot;` localhost:3006/coverages-api/badge\ ?org_name=&amp;lt;org-name&amp;gt;\ &amp;amp;repo_name=&amp;lt;repo-name&amp;gt;\ &amp;amp;branch_name=&amp;lt;branch-name&amp;gt;\ &amp;amp;language=&amp;lt;language&amp;gt;</description></item><item><title>GET /coverages-api/health</title><link>https://rakutentech.github.io/code-coverage-dashboard/API/get_coverages_health_api/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://rakutentech.github.io/code-coverage-dashboard/API/get_coverages_health_api/</guid><description>Health Check endpoint
curl localhost:3006/coverages-api/health Response
{&amp;#34;success&amp;#34;:&amp;#34;local&amp;#34;}</description></item><item><title>POST /coverages-api</title><link>https://rakutentech.github.io/code-coverage-dashboard/API/post_coverages_api/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://rakutentech.github.io/code-coverage-dashboard/API/post_coverages_api/</guid><description>POST the archive tar that has coverage HTML and Cover XML to the API endpoint.
API stores the HTML for static view. Cover XML for parsing total percentage. Responds with the coverages for this org/repo for all branches.
Use this API to create new coverage from Github Actions.
curl -X POST -H 'Content-Type: multipart/form-data' -H 'Authorization: GITHUB_TOKEN' \ --form file=@/Users/pulkit.kathuria/git/code-coverage-dashboard/server/test_data/go_coverage.tar.gz \ &amp;quot;localhost:3006/coverages-api\ ?org_name=rakutentech\ &amp;amp;branch_name=develop\ &amp;amp;github_api_url=https://api.github.com\ &amp;amp;repo_name=laravel-request-docs\ &amp;amp;commit_hash=a123...5716217f903ebffe42c3f113066103eca9\ &amp;amp;commit_author=pulkit.kathuria\ &amp;amp;language=go\ &amp;amp;coverage_xml_file_name=coverage.xml&amp;quot; Example Response</description></item><item><title>PUT /coverages-api</title><link>https://rakutentech.github.io/code-coverage-dashboard/API/put_coverages_api/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://rakutentech.github.io/code-coverage-dashboard/API/put_coverages_api/</guid><description>Update the current branches from Github Actions. Use this API in the end of action or on a, action cronjob to delete old branches from the dashboard.
curl \ -X PUT \ -H &amp;#39;Content-Type: application/json&amp;#39; \ -H &amp;#39;Authorization: GITHUB_TOKEN&amp;#39; \ -d &amp;#39;{ &amp;#34;org_name&amp;#34;: &amp;#34;rakutentech&amp;#34;, &amp;#34;repo_name&amp;#34;: &amp;#34;laravel-request-docs&amp;#34;, &amp;#34;github_api_url&amp;#34;: &amp;#34;api.github.com&amp;#34;, &amp;#34;commit_hash&amp;#34;: &amp;#34;abc&amp;#34;, &amp;#34;active_branches&amp;#34;: [&amp;#34;develop&amp;#34;, &amp;#34;master&amp;#34;] }&amp;#39; \ &amp;#34;http://localhost:3006/coverages-api&amp;#34;</description></item></channel></rss>